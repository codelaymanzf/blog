### CSRF 概念

Cross Site Request Forgery，即跨站请求伪造，是一种常见的 Web 攻击，它利用用户已登录的身份，在用户不知情的情况下，以用户的名义完成非法请求。

- 用户已经登录了站点 A, 并在本地记录了 cookie
- 在用户没有登出站点 A（也就是 cookie 生效的情况下），访问了恶意攻击者提供的引诱危险站点 B(B 站点要求访问站点 A)
- 站点 A 没有做任何 CSRF 防御

### 危害

- 盗取用户资金（转账，消费）
- 冒充用户发贴背锅
- 损害网站声誉

### 防御手段

- 禁止第三方网站带 cookies

  > 设置 cookie 时添加 same-site 值, 但此方法有兼容性问题

- 页面加入验证信息

  > - 验证码
  > - token

- 验证 referer
  > 禁止来自第三方网站的请求
